{"ast":null,"code":"import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nimport { BASE_URL } from \"../../utils/constants\";\n\n// export const getCategories = createAsyncThunk(\n//     'categories/getCategories',\n//     async (_, thunkAPI) => {\n//         try{\n//             const res = await axios(`${BASE_URL}/categories?limit=6`);\n//             return res.data\n\n//         }catch(err) {\n//             console.log(err);\n//             return thunkAPI.rejectWithValue(err);\n//         }\n//     }\n// );\n\nconst userSlice = createSlice({\n  name: 'user',\n  initialState: {\n    currentUser: [],\n    cart: [],\n    isLoading: false\n  },\n  reducers: {\n    addItemToCart: (state, {\n      payload\n    }) => {\n      let newCart = [...state.cart];\n      const found = state.cart.find(({\n        id\n      }) => id === payload.id);\n      if (found) {\n        newCart = newCart.map(item => {\n          return item.id === payload.id ? {\n            ...item,\n            quantity: payload.quantity || item.quantity + 1\n          } : item;\n        });\n      } else newCart.push({\n        ...payload,\n        quantity: 1\n      });\n      state.cart = newCart;\n    }\n  }\n\n  // extraReducers: (builder) => {\n  //     builder.addCase(getCategories.pending, (state) => {\n  //         state.isLoading = true\n  //     });\n\n  //     builder.addCase(getCategories.fulfilled, (state, { payload }) => {\n  //         state.list = payload\n  //         state.isLoading = false\n  //     });\n\n  //     builder.addCase(getCategories.rejected, (state) => {\n  //         state.isLoading = false\n  //     });\n\n  // }\n});\nexport const {\n  addItemToCart\n} = userSlice.actions;\nexport default userSlice.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","axios","BASE_URL","userSlice","name","initialState","currentUser","cart","isLoading","reducers","addItemToCart","state","payload","newCart","found","find","id","map","item","quantity","push","actions","reducer"],"sources":["/Users/giomikadze/Desktop/pr/src/features/user/userSlice.js"],"sourcesContent":["\n\nimport { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nimport { BASE_URL } from \"../../utils/constants\";\n\n// export const getCategories = createAsyncThunk(\n//     'categories/getCategories',\n//     async (_, thunkAPI) => {\n//         try{\n//             const res = await axios(`${BASE_URL}/categories?limit=6`);\n//             return res.data\n\n//         }catch(err) {\n//             console.log(err);\n//             return thunkAPI.rejectWithValue(err);\n//         }\n//     }\n// );\n\nconst userSlice = createSlice({\n  name: 'user',\n  initialState: {\n    currentUser: [],\n    cart: [],\n    isLoading: false,\n  },\n  reducers: {\n    addItemToCart: (state, { payload }) => {\n      let newCart = [...state.cart];\n      const found = state.cart.find(({ id }) => id === payload.id);\n\n      if (found) {\n        newCart = newCart.map((item) => {\n          return item.id === payload.id\n            ? { ...item, quantity: payload.quantity || item.quantity + 1 }\n            : item;\n        });\n      } else newCart.push({ ...payload, quantity: 1 });\n\n      state.cart = newCart;\n    },\n  },\n\n  // extraReducers: (builder) => {\n  //     builder.addCase(getCategories.pending, (state) => {\n  //         state.isLoading = true\n  //     });\n\n  //     builder.addCase(getCategories.fulfilled, (state, { payload }) => {\n  //         state.list = payload\n  //         state.isLoading = false\n  //     });\n\n  //     builder.addCase(getCategories.rejected, (state) => {\n  //         state.isLoading = false\n  //     });\n\n  // }\n\n})\n\nexport const { addItemToCart} = userSlice.actions\n\nexport default userSlice.reducer"],"mappings":"AAEA,SAASA,gBAAgB,EAAEC,WAAW,QAAQ,kBAAkB;AAChE,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,QAAQ,QAAQ,uBAAuB;;AAEhD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAMC,SAAS,GAAGH,WAAW,CAAC;EAC5BI,IAAI,EAAE,MAAM;EACZC,YAAY,EAAE;IACZC,WAAW,EAAE,EAAE;IACfC,IAAI,EAAE,EAAE;IACRC,SAAS,EAAE;EACb,CAAC;EACDC,QAAQ,EAAE;IACRC,aAAa,EAAEA,CAACC,KAAK,EAAE;MAAEC;IAAQ,CAAC,KAAK;MACrC,IAAIC,OAAO,GAAG,CAAC,GAAGF,KAAK,CAACJ,IAAI,CAAC;MAC7B,MAAMO,KAAK,GAAGH,KAAK,CAACJ,IAAI,CAACQ,IAAI,CAAC,CAAC;QAAEC;MAAG,CAAC,KAAKA,EAAE,KAAKJ,OAAO,CAACI,EAAE,CAAC;MAE5D,IAAIF,KAAK,EAAE;QACTD,OAAO,GAAGA,OAAO,CAACI,GAAG,CAAEC,IAAI,IAAK;UAC9B,OAAOA,IAAI,CAACF,EAAE,KAAKJ,OAAO,CAACI,EAAE,GACzB;YAAE,GAAGE,IAAI;YAAEC,QAAQ,EAAEP,OAAO,CAACO,QAAQ,IAAID,IAAI,CAACC,QAAQ,GAAG;UAAE,CAAC,GAC5DD,IAAI;QACV,CAAC,CAAC;MACJ,CAAC,MAAML,OAAO,CAACO,IAAI,CAAC;QAAE,GAAGR,OAAO;QAAEO,QAAQ,EAAE;MAAE,CAAC,CAAC;MAEhDR,KAAK,CAACJ,IAAI,GAAGM,OAAO;IACtB;EACF;;EAEA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;;EAEA;EACA;EACA;;EAEA;AAEF,CAAC,CAAC;AAEF,OAAO,MAAM;EAAEH;AAAa,CAAC,GAAGP,SAAS,CAACkB,OAAO;AAEjD,eAAelB,SAAS,CAACmB,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}